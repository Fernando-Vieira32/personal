#!/bin/bash
set -e

echo "Running rubocop..."
bundle exec rubocop

echo "Running reek..."
OUTPUT=$(bundle exec reek --no-color --single-line)
echo "$OUTPUT"

# Verifique se o output cont√©m avisos
if echo "$OUTPUT" | grep -q "UncommunicativeMethodName"; then
  echo "Reek found code smells."
  exit 1
else
  echo "Reek passed with no issues."
fi
